{
	"permissions": {
		"allow": [
			"Bash(git *)",
			"Bash(npm *)",
			"Bash(npx *)",
			"Bash(node *)",
			"Bash(curl *)",
			"Bash(ls *)",
			"Bash(PUBLIC_API_URL=* npx vite build)",
			"Bash(PUBLIC_API_URL=* npm run build)",
			"Bash(netstat *)",
			"Bash(findstr *)",
			"Bash(taskkill *)",
			"Bash(MSYS_NO_PATHCONV=* taskkill *)",
			"Bash(cmd.exe *)",
			"Bash(source *)",
			"Bash(export *)",
			"Bash(test *)",
			"mcp__sequential-thinking__sequentialthinking",
			"mcp__context7__resolve-library-id",
			"mcp__context7__query-docs",
			"mcp__firecrawl__firecrawl_scrape",
			"mcp__firecrawl__firecrawl_search",
			"WebFetch(domain:www.twilio.com)",
			"WebFetch(domain:lemedspa.app)",
			"WebFetch(domain:api.lemedspa.app)",
			"WebFetch(domain:lm-app.pages.dev)",
			"WebFetch(domain:lm-app-api.onrender.com)",
			"WebFetch(domain:lemedspa.com)"
		],
		"deny": [
			"Bash(rm -rf /)",
			"Bash(rm -rf /*)",
			"Bash(rm -rf ~)",
			"Bash(git push --force *)",
			"Bash(git push -f *)",
			"Bash(git reset --hard *)",
			"Bash(git clean -fd *)",
			"Bash(git branch -D main)",
			"Bash(git branch -D master)",
			"Read(.env)",
			"Read(.env.*)",
			"Read(api/.env)"
		]
	},
	"hooks": {
		"SessionStart": [
			{
				"matcher": "startup",
				"hooks": [
					{
						"type": "command",
						"command": "node \"$CLAUDE_PROJECT_DIR/.claude/hooks/session-start.js\"",
						"timeout": 10
					}
				]
			},
			{
				"matcher": "startup",
				"hooks": [
					{
						"type": "command",
						"command": "bash \"$CLAUDE_PROJECT_DIR/.claude/hooks/cloud-setup.sh\"",
						"timeout": 30
					}
				]
			}
		],
		"PreToolUse": [
			{
				"matcher": "Bash",
				"hooks": [
					{
						"type": "command",
						"command": "node \"$CLAUDE_PROJECT_DIR/.claude/hooks/build-guard.js\"",
						"timeout": 5
					}
				]
			},
			{
				"matcher": "Edit|Write",
				"hooks": [
					{
						"type": "command",
						"command": "node -e \"const f=process.env.TOOL_INPUT_file_path||process.env.TOOL_INPUT_FILE_PATH||''; const blocked=['.env','.env.local','.env.production','credentials.json','secrets.yaml','secrets.json']; const base=f.replace(/\\\\\\\\/g,'/').split('/').pop()||''; if(blocked.includes(base)||f.includes('.env')){console.error('BLOCKED: Cannot edit sensitive file: '+f);process.exit(2);}\"",
						"timeout": 5
					}
				]
			},
			{
				"matcher": "*",
				"hooks": [
					{
						"type": "command",
						"command": "node \"$CLAUDE_PROJECT_DIR/.claude/skills/continuous-learning-v2/hooks/observe.mjs\" pre",
						"timeout": 5
					}
				]
			},
			{
				"matcher": "Edit|Write",
				"hooks": [
					{
						"type": "command",
						"command": "node \"$CLAUDE_PROJECT_DIR/.claude/skills/strategic-compact/suggest-compact.mjs\"",
						"timeout": 5
					}
				]
			}
		],
		"PostToolUse": [
			{
				"matcher": "Write|Edit",
				"hooks": [
					{
						"type": "command",
						"command": "node \"$CLAUDE_PROJECT_DIR/.claude/hooks/check-build.js\"",
						"timeout": 45,
						"async": true
					}
				]
			},
			{
				"matcher": "Edit|Write",
				"hooks": [
					{
						"type": "command",
						"command": "node -e \"const f=process.env.TOOL_INPUT_file_path||process.env.TOOL_INPUT_FILE_PATH||''; if(f && /\\\\.(html|css|js|json|md|svelte)$/.test(f) && !f.includes('node_modules') && !f.includes('.min.')) { const {execSync}=require('child_process'); try { execSync('prettier --write \\\"'+f.replace(/\\\\/g,'/')+'\\\"', {stdio:'pipe'}); console.log('Formatted: '+f); } catch(e) { /* prettier not found or parse error - skip silently */ } }\"",
						"timeout": 10
					}
				]
			},
			{
				"matcher": "Bash",
				"hooks": [
					{
						"type": "command",
						"command": "node \"$CLAUDE_PROJECT_DIR/.claude/scripts/post-push-ci-check.mjs\"",
						"timeout": 200
					}
				]
			},
			{
				"matcher": "*",
				"hooks": [
					{
						"type": "command",
						"command": "node \"$CLAUDE_PROJECT_DIR/.claude/skills/continuous-learning-v2/hooks/observe.mjs\" post",
						"timeout": 5
					}
				]
			}
		],
		"Stop": [
			{
				"hooks": [
					{
						"type": "command",
						"command": "node \"$CLAUDE_PROJECT_DIR/.claude/hooks/stop-check.js\"",
						"timeout": 10
					},
					{
						"type": "command",
						"command": "node \"$CLAUDE_PROJECT_DIR/.claude/scripts/session-memory.mjs\" --save",
						"timeout": 10
					}
				]
			}
		]
	}
}
